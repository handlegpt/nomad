# 开发环境Dockerfile
FROM node:20-alpine

WORKDIR /app

# 复制package文件和锁文件（确保依赖版本一致性）
COPY package*.json ./
COPY package-lock.json ./

# 安装所有依赖（开发环境需要devDependencies）
RUN npm ci && npm cache clean --force

# 复制源代码
COPY . .

# 暴露端口
EXPOSE 3000

# 启动开发服务器
CMD ["npm", "run", "dev"] 